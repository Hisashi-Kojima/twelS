<!DOCTYPE html>
<html lang="ja">
<head>
    {% load static %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{% static 'search/style.css' %}">
    <link rel="shortcut icon" href="{% static 'search/images/favicon.png' %}">
    {% block head %}
    <title>Title</title>
    {% endblock head %}

    {% block analytics %}
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FBF3VF32MV"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-FBF3VF32MV');
    </script>
    {% endblock analytics %}
</head>
<body>
    <!-- navi -->
    <nav>
        <a class="logo" href="{% url 'search:index' %}">twelS</a>
            <ul class="nav-links">
            {% if user.is_authenticated %}
            <li>
                <a href="{% url 'login:logout' %}">ログアウト</a>
            </li>
            <li>
                <a href="{% url 'login:user' user.pk %}">ユーザーページ</a>
            </li>

            {% else %}
            <li>
                <a href="{% url 'login:login' %}">
                ようこそ、ゲスト！ログインはこちら
                </a>
            </li>
            {% endif %}
            </ul>
            <div class="burger">
                <div class="line1"></div>
                <div class="line2"></div>
                <div class="line3"></div>
            </div>
    </nav>

    <div>
    {% block body %}
        replace me.
    {% endblock body %}
    </div>

    <script>

        const burger = document.querySelector(".burger");
        const nav = document.querySelector(".nav-links");
        const navLinks = document.querySelectorAll(".nav-links li");

        burger.addEventListener("click", () => {
            nav.classList.toggle("nav-active");

            navLinks.forEach((link, index) => {
                link.style.animation = 	'navLinksFade 0.5s ease forwards'; 
            });
        });

    </script>

    <footer>
        <p><a href="{% url 'search:feedback' %}">フィードバック</a>&emsp;&emsp;&emsp;&emsp;<a href="{% url 'search:report' %}">バグ報告・要望</a>&emsp;&emsp;&emsp;&emsp;<a href="{% url 'search:privacy_policy' %}">プライバシーポリシー</a></p>
    </footer>
</body>
</html>

<style>

    *{
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    nav {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        min-height: 8vh;
        background-color: blueviolet;
    }
    
    .logo {
        color: white;
        font-size: 22px;
        padding-left: 20px;
        padding-right: 20px;
    }
    
    .nav-links {
        display: flex;
        justify-content: space-around;
    }
    
    .nav-links li {
        list-style: none;
        padding-left: 10px;
        padding-right: 10px;
    }
    
    .nav-links a {
        text-decoration: none;
        color: white;
        font-weight: bold;
    }
    
    .burger {
        cursor: pointer;
        display: none;
        padding-right: 20px;
    }
    
    .burger div {
        width: 25px;
        height: 3px;
        background-color: white;
        margin: 5px;
    }
    
    .nav-active {
        transform: translateX(0%) !important;
    }
    
    /*
    @media screen and (max-width:1024px) {
        .nav-links {
            width: 55%;
        }
    }
    */
    
    @media screen and (max-width:768px) {
        body {
            overflow-x: hidden;
        }
        nav {
            justify-content: space-between;
        }
        .nav-links {
            position: absolute;
            right: 0;
            height: 10vh;
            top: 8vh;
            background-color: blueviolet;
            flex-direction: column;
            align-items: center;
            width: 100%;
            transform: translateX(100%);
            transition: all 0.5s ease-in-out;
        }
    
        .nav-links li {
            opacity: 0;
        }
    
        .burger {
            display: block;
            text-align:right;
        }
    }
    
    @keyframes navLinksFade {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    
    </style>